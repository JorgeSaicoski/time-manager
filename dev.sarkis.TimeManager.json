{
  "app-id": "dev.sarkis.TimeManager",
  "runtime": "org.freedesktop.Platform",
  "runtime-version": "23.08",
  "sdk": "org.freedesktop.Sdk",
  "sdk-extensions": ["org.freedesktop.Sdk.Extension.golang"],
  "command": "time-manager",
  "finish-args": [
    "--socket=wayland",
    "--socket=x11",
    "--share=ipc",
    "--device=dri",
    "--filesystem=home"
  ],
  "modules": [
    {
      "name": "nodejs",
      "buildsystem": "simple",
      "build-commands": ["npm install -g npm@latest"],
      "sources": [
        {
          "type": "archive",
          "url": "https://nodejs.org/dist/v18.17.1/node-v18.17.1-linux-x64.tar.xz",
          "sha256": "7ad20d0e7e58513bbbc5a112a10fae861e49286154a85e7f4cead6c357ce8525"
        }
      ]
    },
    {
      "name": "time-manager",
      "buildsystem": "simple",
      "build-commands": [
        "export GOROOT=/usr/lib/sdk/golang",
        "export PATH=/usr/lib/sdk/golang/bin:/app/bin:$PATH",
        "export NPM_CONFIG_USERCONFIG=/tmp",
        "npm install --prefix frontend",
        "npm run build --prefix frontend",
        "go mod download",
        "wails build -platform linux/amd64"
      ],
      "sources": [
        {
          "type": "git",
          "url": "https://github.com/JorgeSaicoski/time-manager.git",
          "branch": "main"
        }
      ]
    }
  ]
}
